<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
</head>

  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  <link href="css/materialize.css" type="text/css" rel="stylesheet" media="screen,projection"/>
      <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
<body>
  
 <nav>
    <div class="nav-wrapper">
      <form>
        <div class="input-field">
          <input id="search" type="search" required>
          <label class="label-icon" for="search"><i class="material-icons">search</i></label>
          <i class="material-icons">close</i>
        </div>
      </form>
    </div>
  </nav>

<div class="container">
    <!-- This form will be where users input data about the movies 
    <form id="beer-form">
      <label for="beer-input">Search for a beer</label>
      <input type="text" id="beer-input"><br>

     This button will trigger our AJAX call 
      <input id="find-beer" type="submit" value="Beer Search">
    </form>
  --> 
    <!-- We'll be dumping our JSON contents in here -->
    <div id="beer-view" style="padding-top: 10px;"></div>

<div class="card sticky-action" style="width: 30%;">
      <div class="card">
    <div class="card-image waves-effect waves-block waves-light">
      <img class="activator" src="http://via.placeholder.com/200x200">
    </div>
    <div class="card-content">
      <span class="card-title activator grey-text text-darken-4">Card Title<i class="material-icons right">more_vert</i></span>
      <p><a href="#">This is a link</a></p>
    </div>
    <div class="card-reveal">
      <span class="card-title grey-text text-darken-4">Card Title<i class="material-icons right">close</i></span>
      <p>Here is some more information about this product that is only revealed once clicked on.</p>
    </div>
  </div>
      


    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script type="text/javascript">
      $(document).keypress(function(event){
    var keycode = (event.keyCode ? event.keyCode : event.which);
    if(keycode == '13'){

        // Here, it prevents the submit button from trying to submit a form when clicked
        event.preventDefault();

        var dataName = $(this).attr("name");

        // Here we grab the text from the input box
      
        var queryURL = "https://api.punkapi.com/v2/beers?"+ dataName + "&name_gt=";
        var startingBeerarray = ['Buzz', 'Trashy Blonde', 'Pilsen Lager'];
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Document</title>
</head>

<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">
<!-- <link rel="javascript" type="text/javascript" href="beer_test_api.js"> -->

<body>
  <div class="container">
    <h1>Beer Search</h1>

    <!-- This form will be where users input data about the movies -->
    <form id="beer-form">
      <label for="beer-input">Search for a beer</label>
      <input type="text" id="beer-input"><br>

      <!-- This button will trigger our AJAX call -->
      <input id="find-beer" type="submit" value="Beer Search">
    </form>
    <!-- We'll be dumping our JSON contents in here -->
    <div id="beer-view"></div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
    <script type="text/javascript">
      // This .on("click") function will trigger the AJAX Call
      $("#find-beer").on("click", function(event) {

        // event.preventDefault() can be used to prevent an event's default behavior.
        // Here, it prevents the submit button from trying to submit a form when clicked
        event.preventDefault();

        // Here we grab the text from the input box
        var beer = $("#beer-input").val();
        console.log("beer = " + beer)
  // Here we construct our URL
       
       if (beer === ""){


var queryURL = "https://api.punkapi.com/v2/beers/?page=2&per_page=60&"+beer 
console.log("no beer entered but here's a random beer " + beer)

       }


       else {

        var queryURL = "https://api.punkapi.com/v2/beers/?beer_name=" + beer ;
        console.log("user chosen beer " + beer)
}
      
        // To search through array and compare id, the use of a for loop is needed
        // Search array is currently limited to 25 beers.

        // Write code between the dashes below to hit the queryURL with $ajax, then take the response data
        // and display it in the div with an id of movie-view

        //------YOUR CODE GOES IN THESE DASHES. DO NOT MANUALLY EDIT THE HTML ABOVE.

        $.ajax({
          url: queryURL,
          method: "GET"
        }).done(function(response) {
          console.log(response);

for (var i = 0; i < response.length; i++) {
 
        var beerName = response[i].name;
        var beerTagline = response[i].tagline;
        var beerDescription = response[i].description;
        var beerImage = response[i].image_url;
        var beerAbv = response[i].abv;
        var beerFood = response[i].food_pairing[0];
        var malt = response[i].ingredients.malt;
        var hops = response[i].ingredients.hops;
        var yeast = response[i].ingredients.yeast;
        var beerBrewed = response[i].first_brewed;
        var beerBrewery = response[i].withBreweries;
        var beerOrganic = response[i].isOrganic;
        var convertSearchterm = JSON.stringify(response);

        for (var j = 0; j < malt.length; j++) {

         console.log( "ingredient " + malt[i].name + "value: " + malt[i].amount.value + "unit: " + malt[i].amount.unit)

        }

        for (var k = 0; k < hops.length; k++) {

         console.log( "ingredient " + hops[i].name + "value: " + hops[i].amount.value + "unit: " + hops[i].amount.unit)

        }

        for (var m = 0; m < yeast.length; m++) {

         console.log( "ingredient " + yeast)

        }

    





     



      
        // $("#beer-input").text(JSON.stringify(response));

           // $("#beer-view").text(response[0].name + "the iD of this beer is: " + response[0].id + "which is conveniently +1 from its index number in the response array");
          document.getElementById(response.name);
          $("beer-view").html(response.name);


          $("#beer-view").append(
                                 "<h3>" + 
                                          "NAME: " + beerName + "</h3>" + "<hr>" +  
                                          "TAGLINE: " + beerTagline + "<hr>" + 
                                          "LABEL: " + beerImage + "<hr>" +
                                          "DESCRIPTION: " + beerDescription + "<hr>" +
                                          "ALCHOHOL CONTENT: " + beerAbv + "<hr>" + 
                                          "FOOD PAIRINGS: " + beerFood + "<hr>" +
                                          "YEAR BREWED: " + beerBrewed + "<hr>" +
                                          "BREWERY: " + beerBrewery + "<hr>" +
                                          "ORGANIC: " + beerOrganic + "<hr>" +
                                          "INGREDIENTS: " 
                                          );

        

         
          $("beer-view").html("<hr>");

          if (response.indexOf(beer) != -1){
           var index = response.indexOf(beer) 
           var id = response.indexOf(beer) + 1

            $("#beer-view").text("HA this exists at id# " + response.indexOf(beer) + 1 )

        }
    }
 });


        // $ curl https://api.punkapi.com/v2/beers

        // $("#beer-view").text(object);
        //   // $("#beer-view").text(response[0].name + "the iD of this beer is: " + response[0].id + "which is conveniently +1 from its index number in the response array");
        //   document.getElementById(response.name);
        //   $("beer-view").html(response.name);

        //   if (response.indexOf(beer) != -1){
        //    var index = response.indexOf(beer) 
        //    var id = response.indexOf(beer) + 1

            

            // $("#beer-view").text("HA this exists at id#" + response.indexOf(beer) + 1 )

            // $("#beer-view").text("it's tagline is: " + response[index].tagline )



          });

       

        // -----------------------------------------------------------------------
      
    </script>
  </div>
</body>

</html>
        $.ajax({
          url: queryURL,
          method: "GET"
        }).done(function(response) {
          console.log(response);

          // var beer = $("#beer-input").val().trim();
        var convertSearchterm = $("#beer-input").text(JSON.stringify(response));

        var beerDiv= $("#beer-view");

        var beerName= response.name;
        var headerName = $("<h3>").text("Name: " + beerName);
        beerDiv.append(headerName);

        var imgUrl = response.img_url;
        var beerImage = $("<img>").attr("src", imgUrl);
        beerDiv.append(beerImage)

        var beerTagline = response.tagline;
        var pTagline = $("<p>").text("<i>" + beerTagline + "</i>");
        beerDiv.append(pTagline);

        var beerAbv = response.abv;
        var pAbv = $("<p>").text("ABV: " + beerAbv);
        beerDiv.append(pAbv);

        var beerFood = response.food_pairing;
        var pFood = $("<p>").text("Suggested Food Pairings: " + beerFood);
        beerDiv.append(pFood);

      
          // document.getElementById(response.name);
          // $("beer-view").html(response.name);
          // $("#beer-view").append("<h3>" + "NAME: " + beerName + "</h3>" + "<hr>" +  " TAGLINE: " + beerTagline);
          // $("beer-view").html("<hr>");



        //   if (response.indexOf(beer) != -1){
        //    var index = response.indexOf(beer) 
        //    var id = response.indexOf(beer) + 1

        //     $("#beer-view").text("HA this exists at id# " + response.indexOf(beer) + 1 )

        // }

        });
            }
});


        // $ curl https://api.punkapi.com/v2/beers

        // $("#beer-view").text(object);
        //   // $("#beer-view").text(response[0].name + "the iD of this beer is: " + response[0].id + "which is conveniently +1 from its index number in the response array");
        //   document.getElementById(response.name);
        //   $("beer-view").html(response.name);

        //   if (response.indexOf(beer) != -1){
        //   	var index = response.indexOf(beer) 
        //   	var id = response.indexOf(beer) + 1

            

          	// $("#beer-view").text("HA this exists at id#" + response.indexOf(beer) + 1 )

          	// $("#beer-view").text("it's tagline is: " + response[index].tagline )





       

        // -----------------------------------------------------------------------
      
    </script>
  </div>
</body>

</html>

	

  <!-- JavaScript -->
  <!-- <script>

  	var beers = ["Corona", "Coors", "Bud Lite"];

  	function displayBeerInfo() {

        var beer = $(this).attr("data-name");
        var queryURL = "http://api.brewerydb.com/v2/?" + beers + "key=b555d7bfc98fcf0265ec50402b0b87a4";

       
        $.ajax({
          url: queryURL,
          method: "GET"
        }).done(function(response) {
          $("#beer-view").text(JSON.stringify(response));
        });

        console.log(beers);

		

};

    // Capture Button Click
    
  </script>
	
</body>
</html> -->